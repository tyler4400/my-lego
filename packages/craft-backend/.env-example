NODE_ENV=development

PORT=3000

# CORS 开关
CORS=true

# 全局前缀
PREFIX=/api

# 接口版本（支持多个，用逗号分隔，比如 1,2）
VERSION=1

# 全局异常过滤器开关
# ERROR_FILTER=true

# Winston 文件日志开关
LOG_ON=true

# JWT 密钥
JWT_SECRET=please-change-me

# 测试模块开关：
# - true：启用 /test 下的测试专用端点
# - false：禁用（/test 端点返回 404）
TEST_MODULE_ON=false

# redis
REDIS_HOST=ip
REDIS_PORT=6379
REDIS_PASSWORD=password
REDIS_DB=0

# mongodb lego 用户如果是不是在lego创建的要加?authSource=admin
MONGO_DB_LEGO_USERNAME="lego"
MONGO_DB_LEGO_PASSWORD="password"
MONGO_DB_LEGO_URL="mongodb://url:27017/lego"
# 同步索引开关
MONGO_SYNC_INDEXES=true

# GitHub OAuth2 第三方登录接入
GITHUB_OAUTH_CLIENT_ID=你的ClientID
GITHUB_OAUTH_CLIENT_SECRET=你的ClientSecret
# 可以不需要，默认使用 oauth app中登记的
GITHUB_OAUTH_CALLBACK_URL=http://localhost:3000/api/oauth/github/callback
# 登录完成后postMessaeg的URL，即前端使用第三方登录功能时的origin
FRONTEND_ORIGIN=http://localhost:5173

# 静态资源来源（Origin）白名单：
# - 为空/未配置：不做任何 origin 限制（完全放开）
# - 配置后：仅允许白名单内的 origin 访问 /static/* 静态资源（尽力而为：优先使用 Origin，其次尝试从 Referer 推导）
#
# 支持两种形式：
# 1) JSON 数组（推荐）
# STATIC_ALLOWED_ORIGINS=["http://localhost:5173","https://your-frontend.com"]
# 2) 逗号分隔
# STATIC_ALLOWED_ORIGINS=http://localhost:5173,https://your-frontend.com
STATIC_ALLOWED_ORIGINS=

# 运行时数据根目录（强制配置，必须是绝对路径）：
#  - 上传原图、缩略图等“运行时生成的数据”都会写到 `${RUNTIME_DATA_ROOT_PATH}/upload/*`
#  - 该目录必须在 dist 之外，避免 build / deleteOutDir 导致数据丢失
RUNTIME_DATA_ROOT_PATH=/Users/xxx/projects/lego/my-lego/packages/craft-backend/.data
